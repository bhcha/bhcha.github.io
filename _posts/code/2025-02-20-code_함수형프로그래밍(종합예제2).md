---
layout: single
title: ğŸ§‘â€ğŸ’»"ì˜ˆì œ - ë” ë³µì¡í•œ ì¡°ê±´ê³¼ ë³€í™”ë¥¼ í•¨ìˆ˜í˜•í”„ë¡œê·¸ë˜ë°ìœ¼ë¡œ ë‹¤ë£¨ëŠ”ë²•"
categories: code
tag: [í•¨ìˆ˜í˜•, FP, íŒ¨ëŸ¬ë‹¤ì„, java]
toc: true
---

## ë” ë³µì¡í•œ ì¡°ê±´ê³¼ ë³€í™˜

ì•ì„œ ì‚´í´ë³¸ ì˜ˆì œëŠ” **ë‹¨ì¼ ì¡°ê±´** ê³¼ **ë‹¨ìˆœ ë³€í™˜** ì— ëŒ€í•œ íë¦„ì„ ë³´ì—¬ì¤¬ë‹¤.  
í•˜ì§€ë§Œ ì‹¤ë¬´ì—ì„œëŠ” ë•Œë•Œë¡œ ì—¬ëŸ¬ ê°€ì§€ ì¡°ê±´ì„ ë™ì‹œì— ì ìš©í•´ì•¼ í•˜ê±°ë‚˜,  
í•œ ë²ˆì— ì—¬ëŸ¬ í˜•íƒœì˜ ë³€í™˜ì´ í•„ìš”í•œ ìƒí™©ì´ ë°œìƒí•œë‹¤.

ì•„ë˜ ì˜ˆì œëŠ” ì—¬ëŸ¬ ì¡°ê±´ì„ í•©ì³ í•„í„°ë§í•˜ê³ ,  
ì´ë¦„ ë³€í™˜ê³¼ ë‚˜ì´ ì¦ê°€ ê°™ì€ **ì—¬ëŸ¬ ë³€í™˜ ë¡œì§** ì„ ì¡°í•©í•´ë³´ëŠ” ë°©ì‹ìœ¼ë¡œ í™•ì¥í•´ë³¸ë‹¤.

```java
import java.util.*;
import java.util.function.Function;
import java.util.function.Predicate;
import java.util.stream.Collectors;

class ExtendedCustomer {
    private final String name;
    private final int age;

    public ExtendedCustomer(String name, int age) {
        this.name = name;
        this.age = age;
    }

    // ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•œ getterë§Œ ì œê³µ
    public String getName() { return name; }
    public int getAge() { return age; }

    // 'ì´ë¦„' ê³¼ 'ë‚˜ì´' ë¥¼ ê°ê° ë³€ê²½í•˜ëŠ” ë©”ì„œë“œ
    public ExtendedCustomer withName(String newName) {
        return new ExtendedCustomer(newName, this.age);
    }
    public ExtendedCustomer withAge(int newAge) {
        return new ExtendedCustomer(this.name, newAge);
    }

    @Override
    public String toString() {
        return String.format("ExtendedCustomer{name='%s', age=%d}", name, age);
    }
}

public class MultipleConditionTransformExample {

    public static void main(String[] args) {
        // ë¶ˆë³€ ë¦¬ìŠ¤íŠ¸
        List<ExtendedCustomer> customers = List.of(
            new ExtendedCustomer("Alice", 25),
            new ExtendedCustomer("Bob", 30),
            new ExtendedCustomer("Charlie", 35),
            new ExtendedCustomer("Eve", 28),
            new ExtendedCustomer("David", 33)
        );

        // 1) ë³µí•© í•„í„° ì¡°ê±´:
        //    - ë‚˜ì´ê°€ 28ì„¸ ì´ìƒ, AND
        //    - ì´ë¦„ì´ "B" ë˜ëŠ” "C" ë¡œ ì‹œì‘
        Predicate<ExtendedCustomer> isOlderThan28 = c -> c.getAge() >= 28;
        Predicate<ExtendedCustomer> startsWithBorC = c -> {
            String firstLetter = c.getName().substring(0, 1).toUpperCase();
            return "B".equals(firstLetter) || "C".equals(firstLetter);
        };

        // ë‘˜ì„ ANDë¡œ í•©ì¹œ ë³µí•© ì¡°ê±´
        Predicate<ExtendedCustomer> compositeFilter = isOlderThan28.and(startsWithBorC);

        // 2) ë³µí•© ë³€í™˜ ë¡œì§:
        //    - ì´ë¦„ì„ ëŒ€ë¬¸ìë¡œ ë°”ê¾¸ê³ , ë‚˜ì´ëŠ” 2 ì‚´ ì¦ê°€
        Function<ExtendedCustomer, ExtendedCustomer> toUpperCaseName = c ->
            c.withName(c.getName().toUpperCase());

        Function<ExtendedCustomer, ExtendedCustomer> incrementAgeBy2 = c ->
            c.withAge(c.getAge() + 2);

        // ì—¬ëŸ¬ í•¨ìˆ˜ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì ìš©í•˜ê¸° ìœ„í•´ andThen ì‚¬ìš©
        Function<ExtendedCustomer, ExtendedCustomer> transform = 
            toUpperCaseName.andThen(incrementAgeBy2);

        // ìµœì¢… íŒŒì´í”„ë¼ì¸
        //  - ë³µí•© í•„í„° â†’ ë³µí•© ë³€í™˜ â†’ Collect to Unmodifiable List
        List<ExtendedCustomer> transformed = customers.stream()
                                                      .filter(compositeFilter)
                                                      .map(transform)
                                                      .collect(Collectors.toUnmodifiableList());

        System.out.println("=== ì›ë³¸ ë°ì´í„° ===");
        customers.forEach(System.out::println);

        System.out.println("\n=== ë³€í™˜ëœ ë°ì´í„° ===");
        transformed.forEach(System.out::println);
    }
}
```
### íë¦„ ì„¤ëª…
1.	compositeFilter
      - ë‚˜ì´ â‰¥ 28 ì´ë©´ì„œ, ì´ë¦„ì´ B ë˜ëŠ” C ë¡œ ì‹œì‘ í•˜ëŠ” ê³ ê°ë§Œ ê³¨ë¼ë‚¸ë‹¤.
      - and() ë¥¼ í†µí•´ ì—¬ëŸ¬ Predicate ë¥¼ ì¡°í•©í•œë‹¤.
2.	ì—¬ëŸ¬ ë³€í™˜ì„ andThen ìœ¼ë¡œ ì—°ê²°
      - Function<A, B> íƒ€ì…ì„ ì—°ì‡„ì‹œì¼œì„œ, toUpperCaseName â†’ incrementAgeBy2 ìˆœìœ¼ë¡œ ì ìš©í•œë‹¤. 
      - í•œ ë²ˆì— ë‘ ê°€ì§€ ë³€í™˜(ì´ë¦„ ë³€ê²½, ë‚˜ì´ ë³€ê²½)ì´ ì´ë¤„ì§„ë‹¤.
3.	ë¶ˆë³€ ì»¬ë ‰ì…˜
      - Collectors.toUnmodifiableList() ë¡œ ìµœì¢… ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“ ë‹¤.
      - ì´ ë¦¬ìŠ¤íŠ¸ëŠ” ë³€ê²½í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ê²°ê³¼ ë°ì´í„° ë¥¼ í•¨ë¶€ë¡œ ë°”ê¾¸ì§€ ëª»í•œë‹¤.
4.	ì›ë³¸ ë°ì´í„°
      - ì–´ë–¤ ë³€í™˜ì„ í•´ë„ customers ë¦¬ìŠ¤íŠ¸ ìì²´ëŠ” ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤.
      - ëŒ€ì‹  ì „í˜€ ë‹¤ë¥¸ ë¦¬ìŠ¤íŠ¸ (transformed) ê°€ ë§Œë“¤ì–´ì ¸, ê³ ì°¨í•¨ìˆ˜ + ë¶ˆë³€ì„± + ìˆœìˆ˜í•¨ìˆ˜ ì˜ ì¡°í•©ì„ ìœ ì§€í•œë‹¤.

### ì •ë¦¬
- ì´ì²˜ëŸ¼ ì—¬ëŸ¬ ì¡°ê±´ ì„ ë…¼ë¦¬ì ìœ¼ë¡œ ê²°í•©(AND, OR ë“±) í•˜ê³ , ì—¬ëŸ¬ ë³€í™˜ í•¨ìˆ˜ë¥¼ ì—°ì‡„ í•˜ë©´, ë³µì¡í•œ ë¡œì§ë„ ê°„ê²°í•˜ê³  ëª¨ë“ˆí™” ëœ í˜•íƒœë¡œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
- ë¶ˆë³€ ë°ì´í„° ì™€ ìˆœìˆ˜í•¨ìˆ˜ ë¡œ êµ¬ì„±ëœ ë¡œì§ì€, í…ŒìŠ¤íŠ¸ì™€ ìœ ì§€ë³´ìˆ˜ê°€ ìˆ˜ì›”í•˜ë©°, í•„í„°ë‚˜ ë³€í™˜ í•¨ìˆ˜ë¥¼ ë‹¤ë¥¸ ê³³ ì—ì„œ ì¬ì‚¬ìš© í•˜ê¸°ë„ í¸í•˜ë‹¤.

ë‹¤ìŒì—ëŠ” ì´ëŸ¬í•œ êµ¬ì¡°ë¥¼ ì–´ë–»ê²Œ ë ˆì´ì–´(Service, Repository ë“±) ê°„ ì— ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ ë•Œ í™œìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì‚´í´ë³¼ ì˜ˆì •ì´ë‹¤.
ì¦‰, DBë‚˜ ì™¸ë¶€ APIì™€ì˜ ì—°ë™ ê³¼ì •ì—ì„œë„ í•¨ìˆ˜í˜• ìŠ¤íƒ€ì¼ì„ ì ìš©í•˜ë©´, ì–´ë–¤ ì´ì ì´ ìˆëŠ”ì§€ ì˜ˆì‹œë¥¼ í†µí•´ í™•ì¸í•´ë³¸ë‹¤.